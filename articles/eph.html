<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="es">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="eph">
<title>Ejemplo de uso del paquete `eph` • eph</title>
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://docs.ropensci.org/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Ejemplo de uso del paquete `eph`">
<meta property="og:description" content="eph">
<meta property="og:image" content="https://docs.ropensci.org/eph/logo.png">
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css">
<script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript>
<!-- End Matomo Code -->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Ir al contenido</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="../index.html">eph</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Versión publicada">1.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Cambiar la navegación">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Cambiar la navegación" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Buscar" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="active nav-item">
  <a class="nav-link" href="../articles/eph.html">Primeros pasos</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Índice</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-art-culos">Artículos</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-art-culos">
    <a class="dropdown-item" href="../articles/estimacion_pobreza.html">Estimación de Pobreza e Indigencia</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Registro de cambios</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/holatam/eph/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Ejemplo de uso del paquete `eph`</h1>
                        <h4 data-toc-skip class="author">Diego Kozlowski, Pablo Tiscornia, Guido Weksler, Germán Rosati, Natsumi Shokida y Carolina Pradier</h4>
            
            <h4 data-toc-skip class="date">2024-02-28</h4>
      
      <small class="dont-index">Código: <a href="https://github.com/holatam/eph/blob/HEAD/vignettes/eph.Rmd" class="external-link"><code>vignettes/eph.Rmd</code></a></small>
      <div class="d-none name"><code>eph.Rmd</code></div>
    </div>

    
    
<p>El paquete <code>eph</code> tiene como objetivo facilitar el trabajo con los microdatos de la Encuesta Permanente de Hogares. Este tutorial busca ejemplificar un pipeline de trabajo más o menos típico para mostrar el uso de las funciones del paquete.</p>
<div class="section level2">
<h2 id="instalación">Instalación<a class="anchor" aria-label="anchor" href="#instalaci%C3%B3n"></a>
</h2>
<p>Para instalar la versión estable del paquete usar:</p>
<pre><code><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">'eph'</span><span class="op">)</span></span></code></pre>
<p>Para la versión en desarrollo:</p>
<pre><code><span><span class="co"># install.packages('devtools') si no tiene instalado devtools</span></span>
<span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"holatam/eph"</span><span class="op">)</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="ejemplo-de-flujo-de-trabajo">Ejemplo de flujo de trabajo<a class="anchor" aria-label="anchor" href="#ejemplo-de-flujo-de-trabajo"></a>
</h2>
<div class="section level3">
<h3 id="descarga-de-datos-get_microdata">Descarga de datos: <code>get_microdata()</code><a class="anchor" aria-label="anchor" href="#descarga-de-datos-get_microdata"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/eph">eph</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org" class="external-link">tidyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://purrr.tidyverse.org/" class="external-link">purrr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span></code></pre></div>
<p>Obtengamos la base de microdatos de individuos para el tercer trimestre de 2018:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ind_3_18</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_microdata.html">get_microdata</a></span><span class="op">(</span></span>
<span>  year <span class="op">=</span> <span class="fl">2018</span>,</span>
<span>  period <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"individual"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Puede verse que la función requiere tres argumentos básicos que definen cuál es la encuesta que se desea descargar.</p>
</div>
<div class="section level3">
<h3 id="etiquetado-organize_labels">Etiquetado: <code>organize_labels()</code><a class="anchor" aria-label="anchor" href="#etiquetado-organize_labels"></a>
</h3>
<p>Es posible etiquetar de forma automática el dataset descargado previamente usando <code><a href="../reference/get_microdata.html">get_microdata()</a></code> llamando a la función <code><a href="../reference/organize_labels.html">organize_labels()</a></code> (el resultado de esta operación no es renombrar los valores o nombres de las columnas, sino agregar etiquetas con esta información):</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ind_3_18</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/organize_labels.html">organize_labels</a></span><span class="op">(</span></span>
<span>  df <span class="op">=</span> <span class="va">ind_3_18</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"individual"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Descarguemos y etiquetemos la base de hogares del 3 trimestre de 2018. Podemos hacer uso de los <code>%&gt;%</code> pipes de <code>magrittr</code>:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">hog_3_18</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_microdata.html">get_microdata</a></span><span class="op">(</span></span>
<span>  year <span class="op">=</span> <span class="fl">2018</span>,</span>
<span>  period <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"hogar"</span></span>
<span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/organize_labels.html">organize_labels</a></span><span class="op">(</span><span class="va">.</span>,</span>
<span>    type <span class="op">=</span> <span class="st">"hogar"</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="tabulados-ponderados-calculate_tabulates">Tabulados ponderados: <code>calculate_tabulates()</code><a class="anchor" aria-label="anchor" href="#tabulados-ponderados-calculate_tabulates"></a>
</h3>
<p>Una de las operaciones más usuales al trabajar con la EPH son los tabulados uni y bivariados. Para ello, el paquete cuenta con la función <code><a href="../reference/calculate_tabulates.html">calculate_tabulates()</a></code>, la cual brinda la posibilidad de obtener tanto resultados en valores absolutos como porcentuales, como así también contar con la posibilidad de extrapolar los datos según el factor de ponderación correspondiente:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/calculate_tabulates.html">calculate_tabulates</a></span><span class="op">(</span></span>
<span>  base <span class="op">=</span> <span class="va">ind_3_18</span>,</span>
<span>  x <span class="op">=</span> <span class="st">"NIVEL_ED"</span>,</span>
<span>  y <span class="op">=</span> <span class="st">"CH04"</span>,</span>
<span>  weights <span class="op">=</span> <span class="st">"PONDERA"</span>,</span>
<span>  add.totals <span class="op">=</span> <span class="st">"row"</span>,</span>
<span>  add.percentage <span class="op">=</span> <span class="st">"col"</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 8 × 3</span></span></span>
<span><span class="co">#&gt;   `NIVEL_ED/CH04`                                  Varon Mujer</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Primaria incompleta (incluye educacion especial)  15.1  13.7</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Primaria completa                                 12.7  13.2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Secundaria incompleta                             22.9  18.5</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> Secundaria completa                               19.1  19  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> Superior universitaria incompleta                 10.4  12.4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> Superior universitaria completa                   10.3  14.7</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span> Sin instruccion                                    9.6   8.6</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">8</span> Total                                            100   100</span></span></code></pre></div>
<p>Así, si quisiéramos la misma tabla sin ponderar:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/calculate_tabulates.html">calculate_tabulates</a></span><span class="op">(</span></span>
<span>  base <span class="op">=</span> <span class="va">ind_3_18</span>,</span>
<span>  x <span class="op">=</span> <span class="st">"NIVEL_ED"</span>,</span>
<span>  y <span class="op">=</span> <span class="st">"CH04"</span>,</span>
<span>  add.totals <span class="op">=</span> <span class="st">"row"</span>,</span>
<span>  add.percentage <span class="op">=</span> <span class="st">"col"</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 8 × 3</span></span></span>
<span><span class="co">#&gt;   `NIVEL_ED/CH04`                                  Varon Mujer</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Primaria incompleta (incluye educacion especial)  15.3  14  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Primaria completa                                 12.7  12.9</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Secundaria incompleta                             22.9  18.8</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> Secundaria completa                               19.4  19.1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> Superior universitaria incompleta                 10.3  12.2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> Superior universitaria completa                    9.5  14.1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span> Sin instruccion                                   10     8.9</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">8</span> Total                                            100   100</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="armando-pools-de-datos-análisis-de-panel-organize_panels">Armando pools de datos (“análisis de panel”): <code>organize_panels()</code><a class="anchor" aria-label="anchor" href="#armando-pools-de-datos-an%C3%A1lisis-de-panel-organize_panels"></a>
</h3>
<p>Otra potencialidad del trabajo con microdatos de la EPH es la capacidad de generar un pool de observaciones de panel. Este procedimiento consta en identificar a una misma persona u hogar encuestado en distintos trimestres, y permite realizar estudios sobre la evolución de sus características con el correr del tiempo. Esto puede generarse, para las bases individuales en <code>eph</code> con la función <code><a href="../reference/organize_panels.html">organize_panels()</a></code>. Para ello es necesario contar previamente con las múltiples bases de datos que se deseen poolear, y armar un objeto de tipo lista que las contenga.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">### Armo vector con el nombre de las variables de interés incluyendo</span></span>
<span><span class="co"># -variables necesarias para hacer el panel</span></span>
<span><span class="co"># -variables que nos interesan en nuestro análisis</span></span>
<span><span class="va">variables</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"CODUSU"</span>, <span class="st">"NRO_HOGAR"</span>, <span class="st">"COMPONENTE"</span>, <span class="st">"ANO4"</span>,</span>
<span>  <span class="st">"TRIMESTRE"</span>, <span class="st">"CH04"</span>, <span class="st">"CH06"</span>, </span>
<span>  <span class="st">"ESTADO"</span>, <span class="st">"PONDERA"</span></span>
<span><span class="op">)</span> </span>
<span></span>
<span><span class="co">### Descargo la base individual para el 2018_t1</span></span>
<span><span class="va">base_2018t1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_microdata.html">get_microdata</a></span><span class="op">(</span></span>
<span>  year <span class="op">=</span> <span class="fl">2018</span>, period <span class="op">=</span> <span class="fl">1</span>, type <span class="op">=</span> <span class="st">"individual"</span>,</span>
<span>  vars <span class="op">=</span> <span class="va">variables</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co">### Descargo la base individual para el 2018_t2</span></span>
<span><span class="va">base_2018t2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_microdata.html">get_microdata</a></span><span class="op">(</span></span>
<span>  year <span class="op">=</span> <span class="fl">2018</span>, period <span class="op">=</span> <span class="fl">2</span>, type <span class="op">=</span> <span class="st">"individual"</span>,</span>
<span>  vars <span class="op">=</span> <span class="va">variables</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co">### Armo el panel</span></span>
<span><span class="va">pool</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/organize_panels.html">organize_panels</a></span><span class="op">(</span></span>
<span>  bases <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">base_2018t1</span>, <span class="va">base_2018t2</span><span class="op">)</span>,</span>
<span>  variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ESTADO"</span>, <span class="st">"PONDERA"</span><span class="op">)</span>,</span>
<span>  window <span class="op">=</span> <span class="st">"trimestral"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pool</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 25,411 × 17</span></span></span>
<span><span class="co">#&gt;    CODUSU        NRO_HOGAR COMPONENTE  ANO4 TRIMESTRE  CH04  CH06 ESTADO PONDERA</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> TQRMNORUTHMK…         1          1  <span style="text-decoration: underline;">2</span>018         1     2    67      3    <span style="text-decoration: underline;">1</span>008</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> TQRMNORUTHMK…         1          2  <span style="text-decoration: underline;">2</span>018         1     1    81      1    <span style="text-decoration: underline;">1</span>008</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> TQRMNORUTHMK…         1          3  <span style="text-decoration: underline;">2</span>018         1     2    22      2    <span style="text-decoration: underline;">1</span>008</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> TQRMNOVQVHMO…         1          1  <span style="text-decoration: underline;">2</span>018         1     1    62      1     886</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> TQRMNORPYHMM…         1          1  <span style="text-decoration: underline;">2</span>018         1     1    83      3     594</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> TQRMNORPYHMM…         1          2  <span style="text-decoration: underline;">2</span>018         1     2    79      3     594</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> TQRMNOTSYHKM…         1          1  <span style="text-decoration: underline;">2</span>018         1     2    79      3     700</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> TQRMNOQTTHKM…         1          1  <span style="text-decoration: underline;">2</span>018         1     1    38      1     700</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> TQRMNOQTTHKM…         1          2  <span style="text-decoration: underline;">2</span>018         1     2    33      1     700</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> TQRMNOQRVHMM…         1          1  <span style="text-decoration: underline;">2</span>018         1     1    64      1     546</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 25,401 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 8 more variables: Periodo &lt;yearqtr&gt;, ANO4_t1 &lt;int&gt;, TRIMESTRE_t1 &lt;int&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   CH04_t1 &lt;int&gt;, CH06_t1 &lt;int&gt;, ESTADO_t1 &lt;int&gt;, PONDERA_t1 &lt;int&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   consistencia &lt;lgl&gt;</span></span></span></code></pre></div>
<p>La función nos devuelve un data.frame similar a la base original, en el cual cada fila es un registro individual, que consta de las observaciones de las variables de interés especificadas, en dos periodos de tiempo. En el período inicial las mismas conservan su nombre, y en el siguiente (año o trimestre) aparecen renombradas con el agregado del string <code>_t1</code>.</p>
<p>El trabajo que realiza la función es concatenar todas las bases espeficadas y hacer un <code>join</code>, conservando sólo aquellos individuos encuestados en los diferentes trimestres. La columna <code>consistencia</code> evalúa si entre ambas observaciones un mismo individuo figura con distinto sexo o con una diferencia absoluta de 2 años de edad.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pool</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/organize_labels.html">organize_labels</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/calculate_tabulates.html">calculate_tabulates</a></span><span class="op">(</span></span>
<span>    x <span class="op">=</span> <span class="st">"ESTADO"</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"ESTADO_t1"</span>,</span>
<span>    weights <span class="op">=</span> <span class="st">"PONDERA"</span>,</span>
<span>    add.percentage <span class="op">=</span> <span class="st">"row"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 4 × 5</span></span></span>
<span><span class="co">#&gt;   `ESTADO/ESTADO_t1`   `1`   `2`   `3`   `4`</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Ocupado             88.7   4     7.3   0  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Desocupado          36.2  34.7  29     0  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Inactivo             7.5   3.5  88.8   0.2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> Menor de 10 anios.   0     0     3.7  96.3</span></span></code></pre></div>
<p>Un indicador frecuente construido con esta información es la <em>Matriz de Transición</em>. Ella refleja como los individuos que ocupaban una determinada categoría en el período inicial, se distribuyen en cada una de las categorías en el período siguiente. La misma puede construirse sencillamente utilizando la función <code>calculate_tabulates</code>. En este ejemplo, la información refleja que durante 2018, un 3.7% de los ocupados perdió su empleo en el trimestre siguiente.</p>
</div>
<div class="section level3">
<h3 id="iterando-en-varias-bases">Iterando en varias bases<a class="anchor" aria-label="anchor" href="#iterando-en-varias-bases"></a>
</h3>
<p>Dado que levantar muchas bases al mismo tiempo puede superar el espacio disponible en memoria, es posible hacer una selección de variables al mismo tiempo que se levantan las bases:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_microdata.html">get_microdata</a></span><span class="op">(</span></span>
<span>  year <span class="op">=</span> <span class="fl">2017</span><span class="op">:</span><span class="fl">2019</span>,</span>
<span>  period <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"individual"</span>,</span>
<span>  vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ANO4"</span>, <span class="st">"TRIMESTRE"</span>, <span class="st">"PONDERA"</span>, <span class="st">"ESTADO"</span>, <span class="st">"CAT_OCUP"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/sample_n.html" class="external-link">sample_n</a></span><span class="op">(</span><span class="fl">5</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 5</span></span></span>
<span><span class="co">#&gt;    ANO4 TRIMESTRE PONDERA ESTADO CAT_OCUP</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>  <span style="text-decoration: underline;">2</span>017         4     297      3        0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>  <span style="text-decoration: underline;">2</span>018         4     163      3        0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>  <span style="text-decoration: underline;">2</span>018         4     135      1        3</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>  <span style="text-decoration: underline;">2</span>019         1     825      1        2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>  <span style="text-decoration: underline;">2</span>017         2     281      1        2</span></span></code></pre></div>
<p>Con estos datos podemos crear por ejemplo la serie de asalarización</p>
<p><span class="math inline">\(SO_{t} = \frac{\sum_{i=1}^n w_{i}TCP_{i}}{\sum_{i=1}^n w_{i}OCUP_{i}}\)</span></p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">ANO4</span>, <span class="va">TRIMESTRE</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>indicador <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">PONDERA</span><span class="op">[</span><span class="va">CAT_OCUP</span> <span class="op">==</span> <span class="fl">3</span> <span class="op">&amp;</span> <span class="va">ESTADO</span> <span class="op">==</span> <span class="fl">1</span><span class="op">]</span>, na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">PONDERA</span><span class="op">[</span><span class="va">ESTADO</span> <span class="op">==</span> <span class="fl">1</span><span class="op">]</span>, na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; `summarise()` has grouped output by 'ANO4'. You can override using the</span></span>
<span><span class="co">#&gt; `.groups` argument.</span></span>
<span></span>
<span><span class="va">df</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 12 × 3</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># Groups:   ANO4 [3]</span></span></span>
<span><span class="co">#&gt;     ANO4 TRIMESTRE indicador</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>  <span style="text-decoration: underline;">2</span>017         1     0.742</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>  <span style="text-decoration: underline;">2</span>017         2     0.751</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>  <span style="text-decoration: underline;">2</span>017         3     0.745</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>  <span style="text-decoration: underline;">2</span>017         4     0.748</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>  <span style="text-decoration: underline;">2</span>018         1     0.752</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>  <span style="text-decoration: underline;">2</span>018         2     0.740</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>  <span style="text-decoration: underline;">2</span>018         3     0.741</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>  <span style="text-decoration: underline;">2</span>018         4     0.745</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>  <span style="text-decoration: underline;">2</span>019         1     0.745</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>  <span style="text-decoration: underline;">2</span>019         2     0.741</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span>  <span style="text-decoration: underline;">2</span>019         3     0.726</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span>  <span style="text-decoration: underline;">2</span>019         4     0.726</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="cálculo-de-pobreza-calculate_poverty">Cálculo de pobreza: <code>calculate_poverty()</code><a class="anchor" aria-label="anchor" href="#c%C3%A1lculo-de-pobreza-calculate_poverty"></a>
</h3>
<p>Un objetivo del paquete <code>eph</code>, es lograr automatizar el cálculo de pobreza e indigencia del INDEC para las bases trimestrales<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;El calculo oficial se realiza sobre bases semestrales no publicadas&lt;/p&gt;"><sup>1</sup></a>. El gran problema es que no existe información publicada fuera de los informes de prensa en formato pdf sobre los valores de las canastas básicas y alimentarias.</p>
<p>No obstante, hemos desarrollado dos funciones que, de encontrarse disponibles dichos datos, podrían calcular de forma automática los valores de pobreza e indigencia. Mostraremos un ejemplo de juguete con dos datasets de la CABA y sus respectivos valores de canastas.</p>
<p>Existen dos funciones núcleo:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lineas</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_poverty_lines.html">get_poverty_lines</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">lineas</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 94 × 4</span></span></span>
<span><span class="co">#&gt;    periodo               CBA   ICE   CBT</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 2016-04-01 <span style="color: #949494;">00:00:00</span> <span style="text-decoration: underline;">1</span>515.  2.42 <span style="text-decoration: underline;">3</span>664.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 2016-05-01 <span style="color: #949494;">00:00:00</span> <span style="text-decoration: underline;">1</span>561.  2.45 <span style="text-decoration: underline;">3</span>831.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 2016-06-01 <span style="color: #949494;">00:00:00</span> <span style="text-decoration: underline;">1</span>614.  2.44 <span style="text-decoration: underline;">3</span>943.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 2016-07-01 <span style="color: #949494;">00:00:00</span> <span style="text-decoration: underline;">1</span>666.  2.42 <span style="text-decoration: underline;">4</span>034.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 2016-08-01 <span style="color: #949494;">00:00:00</span> <span style="text-decoration: underline;">1</span>675.  2.41 <span style="text-decoration: underline;">4</span>042.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 2016-09-01 <span style="color: #949494;">00:00:00</span> <span style="text-decoration: underline;">1</span>711.  2.39 <span style="text-decoration: underline;">4</span>090.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 2016-10-01 <span style="color: #949494;">00:00:00</span> <span style="text-decoration: underline;">1</span>739.  2.41 <span style="text-decoration: underline;">4</span>192.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 2016-11-01 <span style="color: #949494;">00:00:00</span> <span style="text-decoration: underline;">1</span>763.  2.41 <span style="text-decoration: underline;">4</span>248.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 2016-12-01 <span style="color: #949494;">00:00:00</span> <span style="text-decoration: underline;">1</span>767.  2.41 <span style="text-decoration: underline;">4</span>258.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 2017-01-01 <span style="color: #949494;">00:00:00</span> <span style="text-decoration: underline;">1</span>789.  2.41 <span style="text-decoration: underline;">4</span>312.</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 84 more rows</span></span></span></code></pre></div>
<p>Esta función descarga los valores de las canastas alimentaria, básica (CBA y CBT) y la inversa del coeficiente de Engels… perdón, Engel (ICE) de <a href="https://www.indec.gob.ar/indec/web/Nivel4-Tema-4-43-149" class="external-link">la serie provista por INDEC</a>. Esta es la serie para GBA, y es la que publica regularmente INDEC.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lineas</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">ICE</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer</a></span><span class="op">(</span>cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"CBA"</span>, <span class="st">"CBT"</span><span class="op">)</span>, names_to <span class="op">=</span> <span class="st">"canasta"</span>, values_to <span class="op">=</span> <span class="st">"valor"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">periodo</span>, y <span class="op">=</span> <span class="va">valor</span>, col <span class="op">=</span> <span class="va">canasta</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="eph_files/figure-html/unnamed-chunk-13-1.png" width="672"></p>
<p>Para el calculo de la Pobreza e Indigencia se utilizan canastas regionales, que sólo aparecen en los <a href="https://www.indec.gob.ar/uploads/informesdeprensa/eph_pobreza_01_19422F5FC20A.pdf" class="external-link">informes Técnicos</a>.</p>
<p>A modo de ejemplo, en la librería <code>eph</code> se encuentra la base <code>canastas_reg_example</code> con la información necesaria para realizar el cálculo</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">canastas_reg_example</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 12 × 5</span></span></span>
<span><span class="co">#&gt;    region    periodo   CBA   CBT codigo</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> Cuyo      2016.3  <span style="text-decoration: underline;">1</span>509. <span style="text-decoration: underline;">3</span>872.     42</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> Cuyo      2016.4  <span style="text-decoration: underline;">1</span>570. <span style="text-decoration: underline;">4</span>030.     42</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> GBA       2016.3  <span style="text-decoration: underline;">1</span>684. <span style="text-decoration: underline;">4</span>053.      1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> GBA       2016.4  <span style="text-decoration: underline;">1</span>756. <span style="text-decoration: underline;">4</span>232.      1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> Noreste   2016.3  <span style="text-decoration: underline;">1</span>513. <span style="text-decoration: underline;">3</span>414.     41</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> Noreste   2016.4  <span style="text-decoration: underline;">1</span>568. <span style="text-decoration: underline;">3</span>539.     41</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> Noroeste  2016.3  <span style="text-decoration: underline;">1</span>472. <span style="text-decoration: underline;">3</span>292.     40</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> Noroeste  2016.4  <span style="text-decoration: underline;">1</span>525. <span style="text-decoration: underline;">3</span>412.     40</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Pampeana  2016.3  <span style="text-decoration: underline;">1</span>676. <span style="text-decoration: underline;">4</span>034.     43</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Pampeana  2016.4  <span style="text-decoration: underline;">1</span>746. <span style="text-decoration: underline;">4</span>209.     43</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> Patagonia 2016.3  <span style="text-decoration: underline;">1</span>735. <span style="text-decoration: underline;">4</span>742.     44</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> Patagonia 2016.4  <span style="text-decoration: underline;">1</span>813. <span style="text-decoration: underline;">4</span>963.     44</span></span></code></pre></div>
<p>A su vez, también se encuentra la tabla de <code>adulto_equivalente</code> que permite construir la cantidad de adultos equivalentes a nivel hogar, para multiplicar al mismo por la canasta regional correspondiente, a fin de definir la línea a nivel hogar (de acuerdo con la metodología propuesta por <a href="https://www.indec.gob.ar/ftp/cuadros/sociedad/preguntas_frecuentes_cba_cbt.pdf" class="external-link">INDEC</a>: para identificar la unidad consumidora de referencia, o adulto equivalente, se analizó en qué grupo de edad se ubicaba la mayor concentración de población activa, y fue la categoría de hombres de 30 a 60 años de edad la que presentaba el mayor peso relativo dentro del conjunto total de la población de referencia).</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">adulto_equivalente</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;   CH04 CH06 adequi</span></span>
<span><span class="co">#&gt; 1    1   -1   0.35</span></span>
<span><span class="co">#&gt; 2    1    1   0.37</span></span>
<span><span class="co">#&gt; 3    1    2   0.46</span></span>
<span><span class="co">#&gt; 4    1    3   0.51</span></span>
<span><span class="co">#&gt; 5    1    4   0.55</span></span>
<span><span class="co">#&gt; 6    1    5   0.60</span></span></code></pre></div>
<p>La función <code>calculate_poverty</code> calcula la pertenencia a situaciones de pobreza e indigencia a nivel de los individuos siguiendo la metodología de línea:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bases</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span><span class="va">toybase_individual_2016_03</span>, <span class="va">toybase_individual_2016_04</span><span class="op">)</span></span>
<span><span class="va">base_pobreza</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calculate_poverty.html">calculate_poverty</a></span><span class="op">(</span></span>
<span>  base <span class="op">=</span> <span class="va">bases</span>,</span>
<span>  basket <span class="op">=</span> <span class="va">canastas_reg_example</span>,</span>
<span>  print_summary <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 2 × 4</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># Groups:   ANO4 [1]</span></span></span>
<span><span class="co">#&gt;    ANO4 TRIMESTRE Tasa_pobreza Tasa_indigencia</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>  <span style="text-decoration: underline;">2</span>016         3       0.029<span style="text-decoration: underline;">6</span>          0.013<span style="text-decoration: underline;">6</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>  <span style="text-decoration: underline;">2</span>016         4       0.032<span style="text-decoration: underline;">4</span>          0.012<span style="text-decoration: underline;">2</span></span></span></code></pre></div>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">base_pobreza</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">CODUSU</span>, <span class="va">ITF</span>, <span class="va">region</span>, <span class="va">adequi_hogar</span>, <span class="va">CBA_hogar</span>, <span class="va">CBT_hogar</span>, <span class="va">situacion</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/sample_n.html" class="external-link">sample_n</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 10 × 7</span></span></span>
<span><span class="co">#&gt;    CODUSU                  ITF region adequi_hogar CBA_hogar CBT_hogar situacion</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>                 <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> TQRMNORSYHLKKNCDEHNH… <span style="text-decoration: underline;">20</span>000 Cuyo           0.7      <span style="text-decoration: underline;">1</span>099.     <span style="text-decoration: underline;">2</span>821. no_pobre </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> TQRMNOPPRHKNKQCDEOHC…  <span style="text-decoration: underline;">6</span>200 Patag…         0.76     <span style="text-decoration: underline;">1</span>378.     <span style="text-decoration: underline;">3</span>772. no_pobre </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> TQRMNOQXRHKMKUCDEFIA… <span style="text-decoration: underline;">21</span>000 Pampe…         0.77     <span style="text-decoration: underline;">1</span>345.     <span style="text-decoration: underline;">3</span>241. no_pobre </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> TQRMNOQUTHKOLTCDEFLI… <span style="text-decoration: underline;">25</span>300 Pampe…         0.76     <span style="text-decoration: underline;">1</span>327.     <span style="text-decoration: underline;">3</span>199. no_pobre </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> TQRMNOSTVHJLKNCDEHIB…  <span style="text-decoration: underline;">7</span>400 Noroe…         0.77     <span style="text-decoration: underline;">1</span>175.     <span style="text-decoration: underline;">2</span>627. no_pobre </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> TQRMNORQSHMOKOCDEFJA…  <span style="text-decoration: underline;">6</span>600 Pampe…         0.67     <span style="text-decoration: underline;">1</span>123.     <span style="text-decoration: underline;">2</span>703. no_pobre </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> TQRMNORRXHJMLMCDEFJA…  <span style="text-decoration: underline;">9</span>000 Pampe…         0.63     <span style="text-decoration: underline;">1</span>056.     <span style="text-decoration: underline;">2</span>541. no_pobre </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> TQRMNOQPWHLKKRCDEFMD…     0 Pampe…         0.37      646.     <span style="text-decoration: underline;">1</span>557. <span style="color: #BB0000;">NA</span>       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> TQRMNOSWTHKLLOCDEGPD… <span style="text-decoration: underline;">27</span>700 Noroe…         1        <span style="text-decoration: underline;">1</span>472.     <span style="text-decoration: underline;">3</span>292. no_pobre </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> TQRMNOQRVHLLKUCDEOJA… <span style="text-decoration: underline;">42</span>000 Patag…         1.52     <span style="text-decoration: underline;">2</span>637.     <span style="text-decoration: underline;">7</span>208. no_pobre</span></span></code></pre></div>
</div>
</div>

  </main><aside class="col-md-3"><nav id="toc"><h2>En esta página</h2>
    </nav></aside>
</div>



    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg">
</div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul>
</div>
                    <div class="col-md-3 col-sm-4">
                        <ul>
<h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul>
</div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul>
</div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer>
</div>

  

  

  </body>
</html>
